---
title: "[Java] Java 8 에서 자주 만나는 것들 2"
excerpt: "Lambda, Stream, Optional"

categories:
  - Development
tags:
  - java
header:
  teaser: /assets/images/dev/java.png
---

<small>참조 : [http://tcpschool.com/java/java_stream_concept](http://tcpschool.com/java/java_stream_concept)</small>

## Stream

Java에서 배열이나 컬렉션을 사용하는 경우가 많은데, 요소에 접근할 때 반복문이나 반복자(iterator)를 사용한다. 이는 코드를 길어지게 하고, 가독성이 떨어지고, 재사용이 거의 불가능하다.

따라서 Java 8 부터는 Stream API를 도입한다. Stream은 다음과 같은 특징을 가진다.

### Stream의 특징

1. 원본 데이터를 변경하지 않는다. 참조만 할 뿐이다.
2. 재사용할 수 없다.(1회용) 필요하다면 결과를 컬렉션이나 배열에 담는다.
3. 외부 반복이 아닌 내부 반복을 통해 작업을 수행한다. 즉 반복에 필요한 코드가 노출되지 않는다.
4. filter-map 기반의 API를 사용하여 지연(lazy) 연산을 통해 성능을 최적화한다. 곧바로 연산을 수행하는 것이 아닌, 마지막에 어떤 연산이 필요로 하는가를 판단한 후에 연산을 한다.
5. `parallelStream()` 메소드를 통해 병렬 처리가 손쉽다.

## Stream 생성

Stream의 생성 방법이 다양한데 예제와 함께 알아보자.

### 1. 컬렉션

```java
private static void streamPractice1() {
  ArrayList<Integer> list = new ArrayList<>();

  list.add(4);
  list.add(2);
  list.add(3);
  list.add(1);

  Stream<Integer> stream = list.stream();
  stream.map(i -> i + " ").forEach(System.out::print);
}
```

```shell
4 2 3 1
```

`stream()`메소드는 `Collection` 인터페이스에 있는 메소드로 `ArrayList`, `HashSet` 등을 stream으로 만들 수 있다.

그 외에 `map()`이나 `forEach()`는 뒤에서 다룰 것이다.
